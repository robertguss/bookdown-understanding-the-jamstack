<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>1 Project: Blog with Hugo, Netlify CMS &amp; Zapier | Understanding the Jamstack</title>
<meta name="author" content="Robert Guss">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.6.4/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.3.9000/tabs.js"></script><script src="libs/bs3compat-0.2.3.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Prism CSS --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.22.0/themes/prism-tomorrow.css">
<!-- Custom CSS --><link rel="stylesheet" href="./custom.css">
<!-- Prism JS --><script src="https://cdn.jsdelivr.net/npm/prismjs@1.22.0/components/prism-core.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/prismjs@1.22.0/plugins/autoloader/prism-autoloader.min.js" defer></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Understanding the Jamstack</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="projects.html">Projects</a></li>
<li><a class="active" href="project-blog-with-hugo-netlify-cms-zapier.html"><span class="header-section-number">1</span> Project: Blog with Hugo, Netlify CMS &amp; Zapier</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/robertguss/howtocode-understanding-the-jamstack">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="project-blog-with-hugo-netlify-cms-zapier" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Project: Blog with Hugo, Netlify CMS &amp; Zapier<a class="anchor" aria-label="anchor" href="#project-blog-with-hugo-netlify-cms-zapier"><i class="fas fa-link"></i></a>
</h1>
<p>In this project we are going to build a blog using the <a href="https://gohugo.io">Hugo</a> Static Site Generator, which we will then deploy to Netlify as our hosting provider. Once our blog is complete and live on Netlify, we will then integrate <a href="https://zapier.com/">Zapier</a> to trigger automatic deploys/builds of our site. This will allow us to write blog posts ahead of time by setting a publish date some time in the future and then Zapier will notify Netlify to build our site so that the entire process is automated.</p>
<div id="installing-hugo" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Installing Hugo<a class="anchor" aria-label="anchor" href="#installing-hugo"><i class="fas fa-link"></i></a>
</h2>
<p>Hugo is written in the Go Programming Language which makes it very easy to install, since it is just a single binary. To install Hugo, head over to their <a href="https://gohugo.io/getting-started/installing">Installation Docs</a> and follow along for whatever operating system you are using. I personally am using Mac and have installed Hugo with <a href="https://brew.sh/">Homebrew</a>. <em>I highly recommend using Homebrew if you are on a Mac.</em></p>
</div>
<div id="creating-the-blog" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> Creating the blog<a class="anchor" aria-label="anchor" href="#creating-the-blog"><i class="fas fa-link"></i></a>
</h2>
<p>Now that you have Hugo installed, run the following command to create a new hugo site:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hugo</span> new site blog</span>
<span id="cb1-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># blog will be the name of the folder and project</span></span></code></pre></div>
<p><em><strong>If you are like me, you probably already have a directory where all of your web/code projects live on your computer. I have a folder called <code>Projects</code> on my computer which contains all of my projects. I recommend you have something similar on your machine and install it there.</strong></em></p>
<p>We are going to be using a pre-configured theme for Hugo called <a href="https://themes.gohugo.io/hugo-ink/">Ink</a>. You can
download the theme from Github <a href="https://github.com/knadh/hugo-ink">here</a>. Click on the Green button called ‚ÄúCode‚Äù
and then ‚ÄúDownload Zip.‚Äù</p>
<div class="inline-figure"><img src="images/jamstack-hugo-blog/ink_github_download.png" width="100%"></div>
<p>When you download the zip file and unzip it, it will most likely be called <code>hugo-ink-master</code> simply rename the folder to <code>ink</code> and then move it inside of the <code>themes</code> folder.</p>
<p>Your hugo project should now look like this:</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/ink_directory_listing.png" alt=""><p class="caption">Ink Directory listing</p>
</div>
<p>Inside of the <code>ink</code> theme folder is another folder called <code>exampleSite</code>. This contains some example content which we can use to temporarily populate our site with some pages and posts.</p>
<ol style="list-style-type: decimal">
<li>Copy the directory <code>themes/ink/exampleSite/archetypes/</code> and replace <code>/archetypes/</code> located at the root of the project with it.</li>
<li>Copy the directory <code>themes/ink/exampleSite/content/</code> and replace <code>/content/</code> located at the root of the project with it.</li>
<li>Copy the directory <code>themes/ink/exampleSite/data/</code> and replace <code>/data/</code> located at the root of the project with it.</li>
<li>Copy the file <code>themes/ink/exampleSite/config.toml</code> and replace <code>config.toml</code> located at the root of the project with it.</li>
</ol>
<p>Now run the following command in your terminal to start the hugo server:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hugo</span> serve</span></code></pre></div>
<p>If everything is configured and setup properly, you should see the following at <code>http://localhost:1313/</code></p>
<div class="figure">
<img src="images/jamstack-hugo-blog/ink-home-page.jpg" alt=""><p class="caption">Harbor Home Page</p>
</div>
<p><em><strong>Your site might have a white background which is fine, this theme has both light and dark themes which are toggled based upon your system preferences.</strong></em></p>
</div>
<div id="instant-reload-creating-new-posts" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> Instant Reload &amp; Creating new posts<a class="anchor" aria-label="anchor" href="#instant-reload-creating-new-posts"><i class="fas fa-link"></i></a>
</h2>
<p>Hugo‚Äôs built in dev server will automatically reload the page whenever it detects a page. You can see this in action by modifying one of the posts located at <code>content/posts/</code>. If you make any changes to one of these files, the browser will reload and update with your changes virtually instantly! Pretty sweet right üòé</p>
<p>To create a new post, you will either have to stop the hugo server, or open up another terminal window in the project directory and run the following command.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hugo</span> new posts/my-first-post.md</span></code></pre></div>
<p>Feel free to name the file whatever you like. Once this file is created, you will need to modify what is known as the <a href="https://gohugo.io/content-management/front-matter">Front Matter</a> at the top of the file.</p>
<p>If you open up one of the sample posts you will see something like the following at the top:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb4-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Markdown Syntax Guide'</span></span>
<span id="cb4-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">'2019-03-11'</span></span>
<span id="cb4-4"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">'Sample article showcasing basic Markdown syntax.'</span></span>
<span id="cb4-5"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tags</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">markdown</span><span class="kw">,</span><span class="at"> css</span><span class="kw">,</span><span class="at"> html</span><span class="kw">,</span><span class="at"> themes</span><span class="kw">]</span></span>
<span id="cb4-6"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">categories</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">themes</span><span class="kw">,</span><span class="at"> syntax</span><span class="kw">]</span></span>
<span id="cb4-7"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div>
<p>This is what is known as <code>Front Matter</code>. This data is what Hugo uses to generate various data on our site. The data in the example above is fairly self-explanatory, the title is the title of our post, the date is the date we wrote our post, the description is the description of our post, the tags and categories act as ways of tagging or categorizing various posts together on our site.</p>
<p>This is all entirely customizable by you. With the correct theme and config modifications, you can have Hugo parse and use all kinds of custom data located in the <code>Front Matter</code>.</p>
<p>Take the example I used above and paste it into your new post. This will give us a ‚Äúskeleton‚Äù to work with.</p>
<p>Here is what my post looks like:</p>
<pre><code>---
title: 'My First Post'
date: '2020-12-12'
description: 'This is the description of my first post'
tags: [markdown]
categories: [syntax]
---

Content goes here...</code></pre>
<p>The homepage should have been updated with your latest post and should look something like this:</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/new-post.jpg" alt=""><p class="caption">New post on the home page</p>
</div>
</div>
<div id="pushing-our-project-to-github" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> Pushing our project to GitHub<a class="anchor" aria-label="anchor" href="#pushing-our-project-to-github"><i class="fas fa-link"></i></a>
</h2>
<p>Before we can deploy our site, we need to first push our site up to GitHub.</p>
<p><em><strong>If you do not have a <a href="https://github.com/">GitHub</a> account, please sign up for a free account as you are going to need it throughout this course.</strong></em></p>
<p><em><strong>Your GitHub may not be dark like mine, I am using their dark theme, which is <em>not</em> enabled by default.</strong></em></p>
<p>Create a new repository by clicking the <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code> in the upper right hand corner , next to the bell icon, then ‚ÄúNew repository‚Äù</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/new-repo.jpg" alt=""><p class="caption">GitHub create new repository</p>
</div>
<p>Fill out the repository name and description field and choose whether or not to make the repo private or public. It doesn‚Äôt matter which one you choose. Netlify will work with both public and private repos.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/github_create_repo.png" alt=""><p class="caption">GitHub create repo screen</p>
</div>
<p>Then click the green button ‚ÄúCreate repository‚Äù</p>
<p>You should then be presented with a screen that looks similar to this:</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/github_empty_repo.png" alt=""><p class="caption">GitHub empty repo screen</p>
</div>
<p><em><strong>This next section requires you to have <a href="https://git-scm.com/">Git</a> installed. If you do not have Git installed, you can download it <a href="https://git-scm.com/downloads">here</a></strong></em></p>
<p>Head back over to your terminal inside of your hugo directory and run the following, in this order.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> init <span class="co"># initializes a new git repository</span></span>
<span id="cb6-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add . <span class="co"># adds all of the files to git</span></span>
<span id="cb6-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"init commit"</span> <span class="co"># creates a new commit with the message "init commit"</span></span></code></pre></div>
<p>Then you are going to need to copy the url for your git repo in GitHub. It is located in this section of your empty
GitHub repo.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/github-instructions.jpg" alt=""><p class="caption">GitHub empty repo instructions</p>
</div>
<p>Paste it into your terminal:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote add origin git@github.com:robertguss/hugo-blog.git</span></code></pre></div>
<p>Then do:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push <span class="at">-u</span> origin master</span></code></pre></div>
<p>Refresh GitHub and you should see the following:</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/github-repo-pushed.jpg" alt=""><p class="caption">GitHub repo pushed</p>
</div>
<p>Now you are all set and ready to deploy with Netlify</p>
</div>
<div id="deploying-to-netlify" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> Deploying to Netlify<a class="anchor" aria-label="anchor" href="#deploying-to-netlify"><i class="fas fa-link"></i></a>
</h2>
<p>Now that our site is all setup and running, let‚Äôs learn how to deploy our static site to
<a href="https://www.netlify.com/">Netlify</a>. Netlify is free and is one of the most popular hosting providers for the Jamstack. Head on over to their site and sign up for an account, Use your GitHub account to sign up.</p>
<p>Once you sign up, you should land on a dashboard which looks like the following:</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify-dashboard.jpg" alt=""><p class="caption">Netlify Dashboard</p>
</div>
<p>Click on the ‚ÄúNew site from Git‚Äù button.</p>
<p>On the next screen, click on the ‚ÄúGitHub‚Äù button</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify-git-provider.jpg" alt=""><p class="caption">Netlify Connect to Git Provider</p>
</div>
<p>You will want to connect your GitHub account to Netlify and give them access to all of your repos.</p>
<p>You will then need to seach for the repo we just created and select it. I named mine <code>hugo-blog</code> so I can easily seach for it in the search bar.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify-pick-a-repo.jpg" alt=""><p class="caption">Netlify Pick a repository</p>
</div>
<p>It should automatically detect that this is a Hugo project and fill in the form fields for you. Just in case it doesn‚Äôt, the build command is <code>hugo</code> and the publish directory is <code>public</code>.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify-deploy-settings.png" alt=""><p class="caption">Netlify Deploy Settings</p>
</div>
<p>The click the green button ‚ÄúDeploy site‚Äù</p>
<p>You should then be taken back to the site dashboard where the site will begin to deploy. It shouldn‚Äôt take very long before you see a random url at the top.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify-deployed-site-dashboard.jpg" alt=""><p class="caption">Netlify Site Deployed Dashboard</p>
</div>
<p>Click on the green url and it should take you to our new Hugo site!</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify-site-broken.png" alt=""><p class="caption">Broken Site</p>
</div>
<p>Wait!?! Why is our site broken?</p>
<p>If we inspect our site using Chrome dev tools and open up the console we can see we have some mixed content warnings and a reference to <code>http://example.org</code>. Where is this url coming from?</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/broken-site-dev-console.jpg" alt=""><p class="caption">Broken Site Dev Console</p>
</div>
<p>If you open up <code>config.toml</code> you will see the following on line 1:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode toml"><code class="sourceCode toml"><span id="cb9-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt">baseURL</span> <span class="op">=</span> <span class="st">"http://example.org/"</span></span></code></pre></div>
<p>Change it to the following:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">baseURL</span> = <span class="st">"/"</span></span></code></pre></div>
<p>We will need to add these changes to git and push them up to GitHub.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb11-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"fixed base url in config.toml"</span></span>
<span id="cb11-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code></pre></div>
<p>Once our change has been pushed up to GitHub, Netlify will automatically detect this change and begin to redeploy our site. This ci/cd all comes for free from Netlify with out us having to setup and configure anything! We just push to your master branch and Netlify takes care of the rest.</p>
<p>If you refresh your Netlify url, the site should be fixed.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify-site-fixed.jpg" alt=""><p class="caption">Netlify Site Fixed</p>
</div>
</div>
<div id="integrating-netlify-cms" class="section level2" number="1.6">
<h2>
<span class="header-section-number">1.6</span> Integrating Netlify CMS<a class="anchor" aria-label="anchor" href="#integrating-netlify-cms"><i class="fas fa-link"></i></a>
</h2>
<p>Now that we have our blog setup and deployed live on Netlify, we will now integrate <a href="https://www.netlifycms.org">Netlify CMS</a> which allow us to update our content more easily. You can find the docs for the installation &amp; setup <a href="https://www.netlifycms.org/docs/add-to-your-site/">here</a>.</p>
<p>First, we need to create an admin folder which is where the CMS will live. Since we are using Hugo, we need to create this folder inside of <code>/static</code>. This folder does not currently exist, so create a new folder called <code>static</code> in the root of the project and then within that another folder called <code>admin</code>.</p>
<p>Within the <code>/static/admin</code> folder create 2 new files: <code>index.html</code> &amp; <code>config.yml</code>.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_cms_admin_folder.png" alt=""><p class="caption">Netlify CMS Admin Folder</p>
</div>
<p>Open up <code>static/admin/index.html</code> and add the following:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb12-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb12-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb12-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;head&gt;</span></span>
<span id="cb12-4"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">"utf-8"</span> <span class="kw">/&gt;</span></span>
<span id="cb12-5"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">"viewport"</span><span class="ot"> content=</span><span class="st">"width=device-width, initial-scale=1.0"</span> <span class="kw">/&gt;</span></span>
<span id="cb12-6"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;title&gt;</span>Content Manager<span class="kw">&lt;/title&gt;</span></span>
<span id="cb12-7"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/head&gt;</span></span>
<span id="cb12-8"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;body&gt;</span></span>
<span id="cb12-9"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">&lt;!-- Include the script that builds the page and powers Netlify CMS --&gt;</span></span>
<span id="cb12-10"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">"https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb12-11"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/body&gt;</span></span>
<span id="cb12-12"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>Then within <code>static/admin/config.yml</code> add the following:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb13-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">backend</span><span class="kw">:</span></span>
<span id="cb13-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> git-gateway</span></span></code></pre></div>
<p>Next we need to add a <code>collections:</code> property to our <code>config.yml</code> which will let the CMS know about the structure for our posts. The collections can be a little complicated at first, as there are lots of fields that the CMS works with. You can find out more details about them in the docs <a href="https://www.netlifycms.org/docs/collection-types/">here</a>.</p>
<p>For our blog, add the following to <code>config.yml</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb14-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">collections</span><span class="kw">:</span><span class="co"> # A list of collections the CMS should be able to edit</span></span>
<span id="cb14-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'post'</span><span class="co"> # Used in routes, ie.: /admin/collections/:slug/edit</span></span>
<span id="cb14-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Post'</span><span class="co"> # Used in the UI, ie.: "New Post"</span></span>
<span id="cb14-4"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">folder</span><span class="kw">:</span><span class="at"> </span><span class="st">'content/posts'</span><span class="co"> # The path to the folder where the documents are stored</span></span>
<span id="cb14-5"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">create</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co"> # Allow users to create new documents in this collection</span></span>
<span id="cb14-6"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">fields</span><span class="kw">:</span><span class="co"> # The fields each document in this collection have</span></span>
<span id="cb14-7"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Title'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'title'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'string'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb14-8"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Publish Date'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'date'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'datetime'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb14-9"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Description'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'description'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'text'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb14-10"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Body'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'body'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'markdown'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb14-11"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Tags'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'tags'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'list'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb14-12"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Categories'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'categories'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'list'</span><span class="at"> </span><span class="kw">}</span></span></code></pre></div>
<p>The entire file should look like this:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb15-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">backend</span><span class="kw">:</span></span>
<span id="cb15-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> git-gateway</span></span>
<span id="cb15-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">collections</span><span class="kw">:</span><span class="co"> # A list of collections the CMS should be able to edit</span></span>
<span id="cb15-5"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'post'</span><span class="co"> # Used in routes, ie.: /admin/collections/:slug/edit</span></span>
<span id="cb15-6"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Post'</span><span class="co"> # Used in the UI, ie.: "New Post"</span></span>
<span id="cb15-7"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">folder</span><span class="kw">:</span><span class="at"> </span><span class="st">'content/posts'</span><span class="co"> # The path to the folder where the documents are stored</span></span>
<span id="cb15-8"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">create</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co"> # Allow users to create new documents in this collection</span></span>
<span id="cb15-9"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">fields</span><span class="kw">:</span><span class="co"> # The fields each document in this collection have</span></span>
<span id="cb15-10"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Title'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'title'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'string'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb15-11"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Publish Date'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'date'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'datetime'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb15-12"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Description'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'description'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'text'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb15-13"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Body'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'body'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'markdown'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb15-14"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Tags'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'tags'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'list'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb15-15"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Categories'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'categories'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'list'</span><span class="at"> </span><span class="kw">}</span></span></code></pre></div>
<p>Finally we need to let Netlify CMS know where to put our images that we upload. We can do so by adding the following to our config.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb16-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">media_folder</span><span class="kw">:</span><span class="at"> </span><span class="st">'static/images/uploads'</span><span class="co"> # Folder where user uploaded files should go</span></span>
<span id="cb16-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">public_folder</span><span class="kw">:</span><span class="at"> </span><span class="st">'/images/uploads'</span></span></code></pre></div>
<p>The entire file should now look like:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb17-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">backend</span><span class="kw">:</span></span>
<span id="cb17-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> git-gateway</span></span>
<span id="cb17-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">media_folder</span><span class="kw">:</span><span class="at"> </span><span class="st">'static/images/uploads'</span><span class="co"> # Folder where user uploaded files should go</span></span>
<span id="cb17-5"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">public_folder</span><span class="kw">:</span><span class="at"> </span><span class="st">'/images/uploads'</span></span>
<span id="cb17-6"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">collections</span><span class="kw">:</span><span class="co"> # A list of collections the CMS should be able to edit</span></span>
<span id="cb17-8"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'post'</span><span class="co"> # Used in routes, ie.: /admin/collections/:slug/edit</span></span>
<span id="cb17-9"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Post'</span><span class="co"> # Used in the UI, ie.: "New Post"</span></span>
<span id="cb17-10"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">folder</span><span class="kw">:</span><span class="at"> </span><span class="st">'content/posts'</span><span class="co"> # The path to the folder where the documents are stored</span></span>
<span id="cb17-11"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">create</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co"> # Allow users to create new documents in this collection</span></span>
<span id="cb17-12"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">fields</span><span class="kw">:</span><span class="co"> # The fields each document in this collection have</span></span>
<span id="cb17-13"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Title'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'title'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'string'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb17-14"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Publish Date'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'date'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'datetime'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb17-15"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Description'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'description'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'text'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb17-16"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Body'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'body'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'markdown'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb17-17"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Tags'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'tags'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'list'</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb17-18"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">'Categories'</span><span class="kw">,</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">'categories'</span><span class="kw">,</span><span class="at"> </span><span class="fu">widget</span><span class="kw">:</span><span class="at"> </span><span class="st">'list'</span><span class="at"> </span><span class="kw">}</span></span></code></pre></div>
<p>Now let‚Äôs push up our changes to that our latest code is on Netlify.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb18-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"installed Netlify CMS"</span></span>
<span id="cb18-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code></pre></div>
<p>Next, let‚Äôs setup Netlify Identity which is Netlify‚Äôs built in authentication service so that we can log into our cms.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_identity.png" alt=""><p class="caption">Netlify Identity</p>
</div>
<p>Within your Netlify site‚Äôs dashboard, click on <code>Site settings</code> at the top adn then <code>Identity</code> on the left sidebar. Then click on the Green ‚ÄúEnable Identity‚Äù button.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_registration_preferences.png" alt=""><p class="caption">Netlify Registration Preferences</p>
</div>
<p>You can leave the ‚ÄúOpen‚Äù radio button selected for now and click ‚ÄúSave‚Äù</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_registration_preferences_open.png" alt=""><p class="caption">Netlify Registration Preferences Open</p>
</div>
<p>Scroll down towards the very bottom of the page and click on ‚ÄúEnable Git Gateway‚Äù under the ‚ÄúServices‚Äù heading.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_services_git_gateway.png" alt=""><p class="caption">Netlify Enable Git Gateway</p>
</div>
<div id="netlify-identity-widget" class="section level3" number="1.6.1">
<h3>
<span class="header-section-number">1.6.1</span> Netlify Identity Widget<a class="anchor" aria-label="anchor" href="#netlify-identity-widget"><i class="fas fa-link"></i></a>
</h3>
<p>Next we need to install the Netlify Identity Widget which is what will allow us to interact with Netlify Identity for authentication and logging into the CMS.</p>
<p>Add this script include to the <code>&lt;head&gt;</code> section of <code>/static/admin/index.html</code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb19-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">"https://identity.netlify.com/v1/netlify-identity-widget.js"</span><span class="kw">&gt;&lt;/script&gt;</span></span></code></pre></div>
<p>The entire file <code>/static/admin/index.html</code> should look like this:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb20-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb20-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb20-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;head&gt;</span></span>
<span id="cb20-4"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">"utf-8"</span> <span class="kw">/&gt;</span></span>
<span id="cb20-5"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">"viewport"</span><span class="ot"> content=</span><span class="st">"width=device-width, initial-scale=1.0"</span> <span class="kw">/&gt;</span></span>
<span id="cb20-6"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;title&gt;</span>Content Manager<span class="kw">&lt;/title&gt;</span></span>
<span id="cb20-7"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">"https://identity.netlify.com/v1/netlify-identity-widget.js"</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb20-8"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/head&gt;</span></span>
<span id="cb20-9"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;body&gt;</span></span>
<span id="cb20-10"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">&lt;!-- Include the script that builds the page and powers Netlify CMS --&gt;</span></span>
<span id="cb20-11"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">"https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb20-12"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/body&gt;</span></span>
<span id="cb20-13"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>Now we need to install this to the <code>&lt;head&gt;</code> of our hugo static site so that it is included on every page. Paste inside of the <code>&lt;head&gt;</code> of <code>/themes/ink/layouts/partials/header.html</code>.</p>
<p>That entire file should look like this now:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb21-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb21-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">"utf-8"</span> <span class="kw">/&gt;</span></span>
<span id="cb21-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;meta</span><span class="ot"> http-equiv=</span><span class="st">"X-UA-Compatible"</span><span class="ot"> content=</span><span class="st">"IE=edge"</span> <span class="kw">/&gt;</span></span>
<span id="cb21-4"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-4" aria-hidden="true" tabindex="-1"></a>  {{- $title := ( .Title ) -}} {{- $siteTitle := ( .Site.Title ) -}} {{- if</span>
<span id="cb21-5"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-5" aria-hidden="true" tabindex="-1"></a>  .IsHome -}}</span>
<span id="cb21-6"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;title&gt;</span></span>
<span id="cb21-7"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-7" aria-hidden="true" tabindex="-1"></a>    {{ $siteTitle }} {{ if isset .Site.Params "subtitle" }}- {{</span>
<span id="cb21-8"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-8" aria-hidden="true" tabindex="-1"></a>    .Site.Params.Subtitle }}{{ end }}</span>
<span id="cb21-9"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/title&gt;</span></span>
<span id="cb21-10"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-10" aria-hidden="true" tabindex="-1"></a>  {{- else -}}</span>
<span id="cb21-11"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;title&gt;</span>{{ $title }} - {{ $siteTitle }}<span class="kw">&lt;/title&gt;</span></span>
<span id="cb21-12"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-12" aria-hidden="true" tabindex="-1"></a>  {{- end -}} {{- if isset .Site.Params "favicon" -}}</span>
<span id="cb21-13"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">"icon"</span><span class="ot"> type=</span><span class="st">"image/png"</span><span class="ot"> href=</span><span class="st">"{{"</span> <span class="er">.Site.Params.favicon</span> <span class="er">}}</span> <span class="kw">/&gt;</span></span>
<span id="cb21-14"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-14" aria-hidden="true" tabindex="-1"></a>  {{- end -}}</span>
<span id="cb21-15"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">"viewport"</span><span class="ot"> content=</span><span class="st">"width=device-width, initial-scale=1"</span> <span class="kw">/&gt;</span></span>
<span id="cb21-17"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-17" aria-hidden="true" tabindex="-1"></a>  {{ with .OutputFormats.Get "rss" -}} {{ printf `</span>
<span id="cb21-18"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">"%s"</span><span class="ot"> type=</span><span class="st">"%s"</span><span class="ot"> href=</span><span class="st">"%s"</span><span class="ot"> title=</span><span class="st">"%s"</span> <span class="kw">/&gt;</span></span>
<span id="cb21-19"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-19" aria-hidden="true" tabindex="-1"></a>  ` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }} {{ end -}} {{-</span>
<span id="cb21-20"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-20" aria-hidden="true" tabindex="-1"></a>  template "_internal/schema.html" . -}} {{- template "_internal/opengraph.html"</span>
<span id="cb21-21"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-21" aria-hidden="true" tabindex="-1"></a>  . -}} {{- template "_internal/twitter_cards.html" . -}}</span>
<span id="cb21-22"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-22" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;link</span></span>
<span id="cb21-23"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="ot">    href=</span><span class="st">"https://fonts.googleapis.com/css?family=Playfair+Display:700"</span></span>
<span id="cb21-24"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-24" aria-hidden="true" tabindex="-1"></a><span class="ot">    rel=</span><span class="st">"stylesheet"</span></span>
<span id="cb21-25"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-25" aria-hidden="true" tabindex="-1"></a><span class="ot">    type=</span><span class="st">"text/css"</span></span>
<span id="cb21-26"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-26" aria-hidden="true" tabindex="-1"></a>  <span class="kw">/&gt;</span></span>
<span id="cb21-27"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;link</span></span>
<span id="cb21-28"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-28" aria-hidden="true" tabindex="-1"></a><span class="ot">    rel=</span><span class="st">"stylesheet"</span></span>
<span id="cb21-29"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-29" aria-hidden="true" tabindex="-1"></a><span class="ot">    type=</span><span class="st">"text/css"</span></span>
<span id="cb21-30"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-30" aria-hidden="true" tabindex="-1"></a><span class="ot">    media=</span><span class="st">"screen"</span></span>
<span id="cb21-31"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-31" aria-hidden="true" tabindex="-1"></a><span class="ot">    href=</span><span class="st">"{{ .Site.BaseURL }}css/normalize.css"</span></span>
<span id="cb21-32"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-32" aria-hidden="true" tabindex="-1"></a>  <span class="kw">/&gt;</span></span>
<span id="cb21-33"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-33" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;link</span></span>
<span id="cb21-34"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-34" aria-hidden="true" tabindex="-1"></a><span class="ot">    rel=</span><span class="st">"stylesheet"</span></span>
<span id="cb21-35"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-35" aria-hidden="true" tabindex="-1"></a><span class="ot">    type=</span><span class="st">"text/css"</span></span>
<span id="cb21-36"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-36" aria-hidden="true" tabindex="-1"></a><span class="ot">    media=</span><span class="st">"screen"</span></span>
<span id="cb21-37"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-37" aria-hidden="true" tabindex="-1"></a><span class="ot">    href=</span><span class="st">"{{ .Site.BaseURL }}css/main.css"</span></span>
<span id="cb21-38"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-38" aria-hidden="true" tabindex="-1"></a>  <span class="kw">/&gt;</span></span>
<span id="cb21-39"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-39" aria-hidden="true" tabindex="-1"></a>  {{- if isset .Site.Params "customcss" }}</span>
<span id="cb21-40"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-40" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;link</span></span>
<span id="cb21-41"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-41" aria-hidden="true" tabindex="-1"></a><span class="ot">    rel=</span><span class="st">"stylesheet"</span></span>
<span id="cb21-42"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-42" aria-hidden="true" tabindex="-1"></a><span class="ot">    type=</span><span class="st">"text/css"</span></span>
<span id="cb21-43"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-43" aria-hidden="true" tabindex="-1"></a><span class="ot">    href=</span><span class="st">"{{ .Site.BaseURL }}{{ .Site.Params.customCSS }}"</span></span>
<span id="cb21-44"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-44" aria-hidden="true" tabindex="-1"></a>  <span class="kw">/&gt;</span></span>
<span id="cb21-45"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-45" aria-hidden="true" tabindex="-1"></a>  {{ end }}</span>
<span id="cb21-46"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-47"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-47" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;link</span></span>
<span id="cb21-48"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-48" aria-hidden="true" tabindex="-1"></a><span class="ot">    id=</span><span class="st">"dark-scheme"</span></span>
<span id="cb21-49"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-49" aria-hidden="true" tabindex="-1"></a><span class="ot">    rel=</span><span class="st">"stylesheet"</span></span>
<span id="cb21-50"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-50" aria-hidden="true" tabindex="-1"></a><span class="ot">    type=</span><span class="st">"text/css"</span></span>
<span id="cb21-51"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-51" aria-hidden="true" tabindex="-1"></a><span class="ot">    href=</span><span class="st">"{{ .Site.BaseURL }}css/dark.css"</span></span>
<span id="cb21-52"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-52" aria-hidden="true" tabindex="-1"></a>  <span class="kw">/&gt;</span></span>
<span id="cb21-53"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-53" aria-hidden="true" tabindex="-1"></a>  {{- if isset .Site.Params "customdarkcss" }}</span>
<span id="cb21-54"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-54" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;link</span></span>
<span id="cb21-55"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-55" aria-hidden="true" tabindex="-1"></a><span class="ot">    id=</span><span class="st">"dark-scheme"</span></span>
<span id="cb21-56"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-56" aria-hidden="true" tabindex="-1"></a><span class="ot">    rel=</span><span class="st">"stylesheet"</span></span>
<span id="cb21-57"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-57" aria-hidden="true" tabindex="-1"></a><span class="ot">    type=</span><span class="st">"text/css"</span></span>
<span id="cb21-58"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-58" aria-hidden="true" tabindex="-1"></a><span class="ot">    href=</span><span class="st">"{{ .Site.BaseURL }}{{ .Site.Params.customDarkCSS }}"</span></span>
<span id="cb21-59"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-59" aria-hidden="true" tabindex="-1"></a>  <span class="kw">/&gt;</span></span>
<span id="cb21-60"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-60" aria-hidden="true" tabindex="-1"></a>  {{- end }} {{ if and (isset .Site.Params "social") (isset .Site.Params</span>
<span id="cb21-61"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-61" aria-hidden="true" tabindex="-1"></a>  "feathericonscdn") (eq .Site.Params.featherIconsCDN true) -}}</span>
<span id="cb21-62"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-62" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">"https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb21-63"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-63" aria-hidden="true" tabindex="-1"></a>  {{- else if or (isset .Site.Params "social") (eq .Site.Params.mode "auto") (eq</span>
<span id="cb21-64"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-64" aria-hidden="true" tabindex="-1"></a>  .Site.Params.mode "dark") -}}</span>
<span id="cb21-65"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-65" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">"{{ .Site.BaseURL }}js/feather.min.js"</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb21-66"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-66" aria-hidden="true" tabindex="-1"></a>  {{ end }}</span>
<span id="cb21-67"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-67" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">"{{ .Site.BaseURL }}js/main.js"</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb21-68"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-68" aria-hidden="true" tabindex="-1"></a>  {{- if isset .Site.Params "customjs" -}} {{- range .Site.Params.customJS }}</span>
<span id="cb21-69"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-69" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">"{{ $.Site.BaseURL }}{{ . }}"</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb21-70"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-70" aria-hidden="true" tabindex="-1"></a>  {{- end }} {{- end }}</span>
<span id="cb21-71"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-71" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">"https://identity.netlify.com/v1/netlify-identity-widget.js"</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb21-72"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb21-72" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span></code></pre></div>
<p>Our final step is to include a simple JS snippet that Netlify provides us in their install docs. This will handle the redirection to the CMS admin dashboard upon successfully logging in.</p>
<p>Add the following snippet to <code>/themes/ink/layouts/partials/footer.html</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb22-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;script&gt;</span></span>
<span id="cb22-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="bu">window</span><span class="op">.</span><span class="at">netlifyIdentity</span>) {</span>
<span id="cb22-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">window</span><span class="op">.</span><span class="at">netlifyIdentity</span><span class="op">.</span><span class="fu">on</span>(<span class="st">'init'</span><span class="op">,</span> (user) <span class="kw">=&gt;</span> {</span>
<span id="cb22-4"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="op">!</span>user) {</span>
<span id="cb22-5"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">window</span><span class="op">.</span><span class="at">netlifyIdentity</span><span class="op">.</span><span class="fu">on</span>(<span class="st">'login'</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb22-6"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-6" aria-hidden="true" tabindex="-1"></a>          <span class="bu">document</span><span class="op">.</span><span class="at">location</span><span class="op">.</span><span class="at">href</span> <span class="op">=</span> <span class="st">'/admin/'</span><span class="op">;</span></span>
<span id="cb22-7"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-7" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb22-8"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-8" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb22-9"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-9" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb22-10"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb22-11"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/script&gt;</span></span></code></pre></div>
<p>The entire file should now look like:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb23-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">"footer wrapper"</span><span class="kw">&gt;</span></span>
<span id="cb23-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;nav</span><span class="ot"> class=</span><span class="st">"nav"</span><span class="kw">&gt;</span></span>
<span id="cb23-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;div&gt;</span></span>
<span id="cb23-4"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-4" aria-hidden="true" tabindex="-1"></a>      {{ dateFormat "2006" now }} {{ with .Site.Copyright }} {{ . | safeHTML }}</span>
<span id="cb23-5"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-5" aria-hidden="true" tabindex="-1"></a>      | {{ end }} <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">"https://github.com/knadh/hugo-ink"</span><span class="kw">&gt;</span>Ink<span class="kw">&lt;/a&gt;</span> theme on</span>
<span id="cb23-6"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-6" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">"https://gohugo.io"</span><span class="kw">&gt;</span>Hugo<span class="kw">&lt;/a&gt;</span></span>
<span id="cb23-7"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb23-8"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/nav&gt;</span></span>
<span id="cb23-9"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/div&gt;</span></span>
<span id="cb23-10"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-11" aria-hidden="true" tabindex="-1"></a>{{ template "_internal/google_analytics_async.html" . }} {{- with</span>
<span id="cb23-12"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-12" aria-hidden="true" tabindex="-1"></a>.Site.Params.Social -}}</span>
<span id="cb23-13"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;script&gt;</span></span>
<span id="cb23-14"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-14" aria-hidden="true" tabindex="-1"></a>  feather<span class="op">.</span><span class="fu">replace</span>()<span class="op">;</span></span>
<span id="cb23-15"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/script&gt;</span></span>
<span id="cb23-16"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-16" aria-hidden="true" tabindex="-1"></a>{{- end -}}</span>
<span id="cb23-17"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-18"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;script&gt;</span></span>
<span id="cb23-19"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-19" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="bu">window</span><span class="op">.</span><span class="at">netlifyIdentity</span>) {</span>
<span id="cb23-20"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-20" aria-hidden="true" tabindex="-1"></a>    <span class="bu">window</span><span class="op">.</span><span class="at">netlifyIdentity</span><span class="op">.</span><span class="fu">on</span>(<span class="st">'init'</span><span class="op">,</span> (user) <span class="kw">=&gt;</span> {</span>
<span id="cb23-21"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-21" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="op">!</span>user) {</span>
<span id="cb23-22"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-22" aria-hidden="true" tabindex="-1"></a>        <span class="bu">window</span><span class="op">.</span><span class="at">netlifyIdentity</span><span class="op">.</span><span class="fu">on</span>(<span class="st">'login'</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb23-23"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-23" aria-hidden="true" tabindex="-1"></a>          <span class="bu">document</span><span class="op">.</span><span class="at">location</span><span class="op">.</span><span class="at">href</span> <span class="op">=</span> <span class="st">'/admin/'</span><span class="op">;</span></span>
<span id="cb23-24"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-24" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb23-25"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-25" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb23-26"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-26" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb23-27"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb23-28"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb23-28" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/script&gt;</span></span></code></pre></div>
<p>Now let‚Äôs push up our changes:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb24-2"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"added Netlify Identity"</span></span>
<span id="cb24-3"><a href="project-blog-with-hugo-netlify-cms-zapier.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code></pre></div>
<p>Now navigate to your Netlify url and add <code>/admin</code> at the end. For instance mine is
<code>https://reverent-liskov-4cbe35.netlify.app/admin</code>.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_identity_login.png" alt=""><p class="caption">Netlify Identity Login</p>
</div>
<p>Click on the ‚ÄúLogin with Netlify Identity‚Äù button.</p>
<p>Then click on the ‚ÄúSign up‚Äù tab and fill out the form and click the ‚ÄúSign up‚Äù button.</p>
<p>_*Make sure to use your actual email address as you will need to click a link to confirm your identity.**_</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_identity_signup.png" alt=""><p class="caption">Netlify Identity Signup</p>
</div>
<p>Open the email that is sent to you and confirm your email address. You should now be logged in and presented with the CMS admin dashboard.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_cms_dashboard.png" alt=""><p class="caption">Netlify CMS Dashboard</p>
</div>
<p>You can now edit and create new posts with Netlify CMS!</p>
<p>Open up one of the posts and edit some of the content and click on the ‚ÄúPublish‚Äù button in the upper right hand corner. Then click ‚ÄúPublish Now‚Äù</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_cms_publish_btn.png" alt=""><p class="caption">Netlify CMS Publish Button</p>
</div>
<p>Clicking this button will send a webhook to Netlify which will begin to build and deploy the site automatically. Pretty slick üòé</p>
<p><em><strong>One thing to keep in mind, is that when you publish your site via the CMS, Netlify is creating git commits for you in the background. So if you make some changes to your site locally afterwards, make sure you run <code>git pull</code> to pull down the latest changes form your repo, otherwise your local copy and the version up on GitHub will be out of sync.</strong></em></p>
</div>
</div>
<div id="integrating-zapier-for-automatic-deploys" class="section level2" number="1.7">
<h2>
<span class="header-section-number">1.7</span> Integrating Zapier for automatic deploys<a class="anchor" aria-label="anchor" href="#integrating-zapier-for-automatic-deploys"><i class="fas fa-link"></i></a>
</h2>
<p><em><strong>I learned this neat trick from Flavio Copes. You can check his post <a href="https://flaviocopes.com/netlify-auto-deploy/">here</a></strong></em></p>
<p>This next section includes using a service known as <a href="https://zapier.com/">Zapier</a>, which is an automation framework, that we will utilize to automatically deploy our site. You may be wondering why would we need this or what is the use case. Let me explain.</p>
<p>More often that not most people write blog articles in advance and then schedule a publish date sometime in the future. For instance, you may want to publish a new blog post every 2 weeks, or once a month, and will often have several articles ready to go so that you have a ‚Äúbuffer‚Äù of content before you have to write more. Virtually every blogging system and cms allows this when you have a traditional monolithic architecture like WordPress or similar. However, since this is a static site and we do not have a backend, how can we accomplish this? The key is to use Zapier and Hugo‚Äôs publish date.</p>
<p>Hugo has this feature built in already, where if you have a date set for one of your articles in the future, it will not build the page until that date. For example, if I set the date two weeks from today, Hugo will not build that page until then. We can trigger as many builds of our site as we want and that article will not show up until two weeks from today.</p>
<p>Knowing this, we can then use Zapier to send a webhook to Netlify at whatever interval we want which will then trigger a new build. So if you are publishing every two weeks, you can setup Zapier to send a webhook every 2 weeks. You could even have Zapier send a webhook every single day if your schedule is inconsistent. That way you only have to worry about setting the correct date in the articles front-matter and the deployment and publishing cycle is handled for you automatically!</p>
<p>For this tutorial, we are going to be setting up Zapier to send a webhook every single day.</p>
<p>Before we can setup Zapier, however, we need to first configure Netlify to accept our Webhook from Zapier.</p>
<div id="netlify-webhook-setup" class="section level3" number="1.7.1">
<h3>
<span class="header-section-number">1.7.1</span> Netlify Webhook Setup<a class="anchor" aria-label="anchor" href="#netlify-webhook-setup"><i class="fas fa-link"></i></a>
</h3>
<p>Head back over to your Netlify dashboard and click on ‚ÄúSite settings‚Äù and then ‚ÄúBuild &amp; deploy‚Äù on the left sidebar. Scroll down to you see a ‚ÄúBuild hooks‚Äù section.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_build_hooks.png" alt=""><p class="caption">Netlify Build Hooks</p>
</div>
<p>Click the ‚ÄúAdd build hook‚Äù button.</p>
<p>Give your hook a name and then save it.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_build_hook_name.png" alt=""><p class="caption">Netlify Build Hook Name</p>
</div>
<p>Netlify will then give you a url for the webhook, like so:</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_build_hook_url.png" alt=""><p class="caption">Netlify Build Hook Url</p>
</div>
<p>Copy this down or keep this tab open as we will need this Url for Zapier.</p>
</div>
<div id="zapier-webhook-setup" class="section level3" number="1.7.2">
<h3>
<span class="header-section-number">1.7.2</span> Zapier Webhook Setup<a class="anchor" aria-label="anchor" href="#zapier-webhook-setup"><i class="fas fa-link"></i></a>
</h3>
<p>Head on over to <a href="https://zapier.com/">Zapier</a> and create a free account. After you are logged in, Go to this <a href="https://zapier.com/apps/schedule/integrations/webhook/2845/send-webhook-post-requests-on-a-daily-schedule">link</a> to see how to configure a <a href="https://zapier.com/apps/schedule/integrations/webhook/2845/send-webhook-post-requests-on-a-daily-schedule">webhook POST request</a>.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/zapier_webook_post.png" alt=""><p class="caption">Zapier Webhook Post</p>
</div>
<p>Click on the ‚ÄúTry it‚Äù button.</p>
<p>On the next screen, I setup mine to trigger on the weekends and at 7am.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/zapier_every_day.png" alt=""><p class="caption">Zapier Webhook Post</p>
</div>
<p>After clicking ‚ÄúSave and Continue,‚Äù click on the ‚ÄúTest Trigger‚Äù button.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/zapier_test_trigger.png" alt=""><p class="caption">Zapier Test Trigger</p>
</div>
<p>Then click on the 2nd section and add in the url from Netlify. I set my payload type to ‚ÄúRaw‚Äù</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/zapier_post_setup.png" alt=""><p class="caption">Zapier Post Setup</p>
</div>
<p>You can leave the rest of the fields as they are and then click ‚ÄúSave and continue‚Äù</p>
<p>You should then be presented with a ‚ÄúTest action‚Äù screen. Click the ‚ÄúTest &amp; Continue‚Äù button.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/zapier_test_action.png" alt=""><p class="caption">Zapier Test Action</p>
</div>
<p>If all goes well you should see the following.</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/zapier_test_success.png" alt=""><p class="caption">Zapier Test Success</p>
</div>
<p>Then click on the ‚ÄúTurn on Zap‚Äù button to enable it.</p>
<p>Head back to your Netlify dashboard and see if the deploy was triggered. Click on ‚ÄúDeploys‚Äù at the top of the screen and check to see what the latest deploy is. It should say something like ‚ÄúDeploy triggered by hook: Zapier at 7am‚Äù</p>
<div class="figure">
<img src="images/jamstack-hugo-blog/netlify_hook_success.png" alt=""><p class="caption">Netlify Hook Success</p>
</div>
<p>So now Zapier will send a webhook at 7am every single day and Netlify will deploy a fresh copy of your site at the same time. So all you have to do is enter the date in your articles front-matter on which you would like your article to be published live on your site and the rest is handle for you automatically!</p>
</div>
</div>
<div id="github-repo" class="section level2" number="1.8">
<h2>
<span class="header-section-number">1.8</span> GitHub Repo<a class="anchor" aria-label="anchor" href="#github-repo"><i class="fas fa-link"></i></a>
</h2>
<p>The completed project can be found here inside of <code>Hugo-Blog/final</code>
<a href="https://github.com/robertguss/howtocode-understanding-the-jamstack">GitHub Repo</a></p>
</div>
<div id="wrap-up" class="section level2" number="1.9">
<h2>
<span class="header-section-number">1.9</span> Wrap up<a class="anchor" aria-label="anchor" href="#wrap-up"><i class="fas fa-link"></i></a>
</h2>
<p>In this tutorial we learned how to create a Jamstack site using Hugo static site generator. We also integrated Netlify CMS to make it easy to update our content and deployed our site to Netlify. Finally, we setup Zapier to trigger automatic deploys on Netlify every day.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="projects.html">Projects</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#project-blog-with-hugo-netlify-cms-zapier"><span class="header-section-number">1</span> Project: Blog with Hugo, Netlify CMS &amp; Zapier</a></li>
<li><a class="nav-link" href="#installing-hugo"><span class="header-section-number">1.1</span> Installing Hugo</a></li>
<li><a class="nav-link" href="#creating-the-blog"><span class="header-section-number">1.2</span> Creating the blog</a></li>
<li><a class="nav-link" href="#instant-reload-creating-new-posts"><span class="header-section-number">1.3</span> Instant Reload &amp; Creating new posts</a></li>
<li><a class="nav-link" href="#pushing-our-project-to-github"><span class="header-section-number">1.4</span> Pushing our project to GitHub</a></li>
<li><a class="nav-link" href="#deploying-to-netlify"><span class="header-section-number">1.5</span> Deploying to Netlify</a></li>
<li>
<a class="nav-link" href="#integrating-netlify-cms"><span class="header-section-number">1.6</span> Integrating Netlify CMS</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#netlify-identity-widget"><span class="header-section-number">1.6.1</span> Netlify Identity Widget</a></li></ul>
</li>
<li>
<a class="nav-link" href="#integrating-zapier-for-automatic-deploys"><span class="header-section-number">1.7</span> Integrating Zapier for automatic deploys</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#netlify-webhook-setup"><span class="header-section-number">1.7.1</span> Netlify Webhook Setup</a></li>
<li><a class="nav-link" href="#zapier-webhook-setup"><span class="header-section-number">1.7.2</span> Zapier Webhook Setup</a></li>
</ul>
</li>
<li><a class="nav-link" href="#github-repo"><span class="header-section-number">1.8</span> GitHub Repo</a></li>
<li><a class="nav-link" href="#wrap-up"><span class="header-section-number">1.9</span> Wrap up</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/robertguss/howtocode-understanding-the-jamstack/blob/master/project_hugo_blog.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/robertguss/howtocode-understanding-the-jamstack/edit/master/project_hugo_blog.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Understanding the Jamstack</strong>" was written by Robert Guss. It was last built on 2020-12-30.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
